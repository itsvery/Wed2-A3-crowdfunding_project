<!DOCTYPE html>
<html ng-app="fundraiserApp">
<head>
    <title>Fundraiser Management</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/services.js"></script>
</head>
<body ng-controller="FundraiserController as ctrl">

    <h1>Fundraiser Management</h1>

    <!-- Display Fundraisers -->
    <div>
        <h2>Fundraisers List</h2>
        <table border="1">
            <tr>
                <th>Organizer</th>
                <th>Caption</th>
                <th>City</th>
                <th>Actions</th>
            </tr>
            <tr ng-repeat="fundraiser in ctrl.fundraisers">
                <td>{{ fundraiser.ORGANIZER }}</td>
                <td>{{ fundraiser.CAPTION }}</td>
                <td>{{ fundraiser.CITY }}</td>
                <td>
                    <button ng-click="ctrl.editFundraiser(fundraiser)">Edit</button>
                    <button ng-click="ctrl.deleteFundraiser(fundraiser.FUNDRAISER_ID)">Delete</button>
                </td>
            </tr>
        </table>
    </div>

    <!-- Add New Fundraiser -->
    <div>
        <h2>Add New Fundraiser</h2>
        <form ng-submit="ctrl.addFundraiser()">
            <input type="text" ng-model="ctrl.newFundraiser.ORGANIZER" placeholder="Organizer" required>
            <input type="text" ng-model="ctrl.newFundraiser.CAPTION" placeholder="Caption" required>
            <input type="text" ng-model="ctrl.newFundraiser.CITY" placeholder="City" required>
            <button type="submit">Save</button>
        </form>
    </div>

    <!-- Edit Fundraiser -->
    <div ng-if="ctrl.editing">
        <h2>Edit Fundraiser</h2>
        <form ng-submit="ctrl.updateFundraiser()">
            <input type="text" ng-model="ctrl.currentFundraiser.ORGANIZER" placeholder="Organizer" required>
            <input type="text" ng-model="ctrl.currentFundraiser.CAPTION" placeholder="Caption" required>
            <input type="text" ng-model="ctrl.currentFundraiser.CITY" placeholder="City" required>
            <button type="submit">Update</button>
        </form>
    </div>

</body>
</html>
